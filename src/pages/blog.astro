---
import "../styles/global.css";
import Layout from "../layouts/Layout.astro";
import BlogPostCard from "../components/BlogPostCard.astro";
import { Image } from "astro:assets";
import plank2 from "../assets/planks_2.svg";
import plank3 from "../assets/planks_3.svg";
---

<Layout title="IW Blog">
    <section class="blog_section">
        <Image src={plank2} alt="two planks of wood" class="plank_2"/>
        <div class="grid_placement section_1 active">
            <BlogPostCard blogLink="/blog_post_looking_back_on_first_class_trouble" blogImage="/looking_back_on_first_class_trouble.jpg" imageAlt="A reserved table from First Class Trouble" blogDate="Jun 14, 2022" headline="Looking back at First Class Trouble" text="It's been over a year since First Class Trouble launched in Early Access, but the team has been at work for over three years to bring..."/>
            <BlogPostCard blogLink="/blog_post_celebrating_one_year_of_first_class_trouble" blogImage="/celebrating_one_year_of_first_class_trouble.jpg" imageAlt="Celebrating one year" blogDate="Apr 7, 2022" headline="Celebrating One Year of First Class Trouble" text="It's been a year since First Class Trouble launched in Early"/>
            <BlogPostCard blogLink="/blog_post_invisible_walls_at_gdc" blogImage="/invisible_walls_at_gdc.jpg" imageAlt="Game developers conference" blogDate="Mar 19, 2019" headline="Invisible Walls at GDC" text="The three musketeers of Invisible Walls (Sebastian, Niels & David) have flown halfway around the globe (if you still believe in such a..."/>
            <BlogPostCard blogLink="/blog_post_your_own_luxurious_private_cabin" blogImage="/your_own_luxurious_private_cabin.jpg" imageAlt="Image from First Class Trouble" blogDate="Mar 6, 2019" headline="Your own luxurious private cabin" text="In Cainwood, each round will start out in your own private custom made space cruise cabin. Each player will have control over their own..."/>
            <BlogPostCard blogLink="/blog_post_invisible_walls_at_gamescom" blogImage="/invisible_walls_at_gamescom.jpg" imageAlt="Gamescom" blogDate="Aug 21, 2018" headline="Invisible Walls at Gamescom" text="Invisible Walls is at Gamescom"/>
        </div>
        <div class="grid_placement section_2">
            <BlogPostCard blogLink="/blog_post_snow_in_cainwood" blogImage="/snow_in_cainwood.jpg" imageAlt="Image from project Cainwood" blogDate="Feb 14, 2018" headline="Snow in Cainwood" text="Development blog detailling the development of the particle and snow system in Project Cainwood."/>
            <BlogPostCard blogLink="/blog_post_project_cainwood" blogImage="/project_cainwood.jpg" imageAlt="Image from project Cainwood" blogDate="Jan 15, 2018" headline="Project Cainwood" text="Invisible Walls are proud to announce Project Cainwood a cooperative multiplayer game of trust, betrayal and survival."/>
            <BlogPostCard blogLink="/blog_post_welcome_to_the_development_blog_of_invisible_walls" blogImage="/welcome_to_the_development_blog_of_invisible_walls.jpg" imageAlt="Image from first office" blogDate="Jan 15, 2018" headline="Welcome to the development blog of Invisible Walls" text="The first development blog of the Invisible Walls studio"/>
        </div>
        <Image src={plank3} alt="three planks of wood" class="plank_3"/>
    </section>
    <section class="sorting_bar">
        <button class="prev"><img src="/button_prev.svg" alt=""></button>
        <button class="one active">1</button>
        <button class="two">2</button>
        <button class="next"><img src="/button_next.svg" alt=""></button>
    </section>
    
</Layout>

<style>

    .blog_section{
        display: grid;
        grid-template-columns: 1fr 2fr 1fr;
    }

    .plank_2{
        width: 120%;
        margin-left: 65%;
        z-index: 2;
    }

    .plank_3{
        width: 120%;
        grid-column: 3/4;
        grid-row: 2;
        margin-left: -65%;
        margin-top: -55%;
    }

    .grid_placement{
        grid-column: 2;
        display: none;
    }

    .active{
        display: block;
    }

    .sorting_bar{
        display: flex;
        justify-content: center;
        align-items: center;
        gap:20px;
    }

    button{
        font-size: var(--text-3);
        color: var(--iw-color-orange);
        font-family: "Atma", system-ui;
        font-weight: 700;
        font-style: normal;
        text-shadow: 1.5px 1px var(--iw-color-blue);
        letter-spacing: 1px;
    }

    button > img{
        height: 50px;
    }

    button.active{
        border-bottom: 3px solid var(--iw-color-orange);
    }

    @media (max-width: 800px) {
        .blog_section{
        display: grid;
        grid-template-columns: 30px 1fr 30px;
    }

    .plank_2{
        width: 40%;
        margin-left: 0%;
        margin-top: 10%;
        margin-bottom: -25%;
        grid-column: 1/3;
    }

    .plank_3{
        width: 40%;
        grid-column: 2/4;
        grid-row: 3;
        margin-left: 60%;
        margin-top: -25%;
        margin-bottom: 10%;
    }

    }

</style>

<script is:inline>
    const blogSection1 = document.querySelector(".section_1");
    const blogSection2 = document.querySelector(".section_2");

    const prevBtn = document.querySelector(".prev");
    const nextBtn = document.querySelector(".next");

    const oneBtn = document.querySelector(".one");
    const twoBtn = document.querySelector(".two");

    oneBtn.addEventListener("click", ()=>{
        oneBtn.classList.add("active");
        twoBtn.classList.remove("active");
        blogSection1.classList.add("active");
        blogSection2.classList.remove("active");
        // Jeg fandt denne linje kode i en Reddit tråd, som simpelt og enkelt tager brugeren tilbage til starten uden at reloade siden
        // så behøver brugen ikke selv at scrolle tilbage når de har klikket videre i oversigten
        document.querySelector(".blog_section").scrollIntoView({behavior: `smooth`});
    })

    twoBtn.addEventListener("click", ()=>{
        oneBtn.classList.remove("active");
        twoBtn.classList.add("active");
        blogSection1.classList.remove("active");
        blogSection2.classList.add("active");
        document.querySelector(".blog_section").scrollIntoView({behavior: `smooth`});
    })

    prevBtn.addEventListener("click", ()=>{
        oneBtn.classList.add("active");
        twoBtn.classList.remove("active");
        blogSection1.classList.add("active");
        blogSection2.classList.remove("active");
        document.querySelector(".blog_section").scrollIntoView({behavior: `smooth`});
    })

    nextBtn.addEventListener("click", ()=>{
        oneBtn.classList.remove("active");
        twoBtn.classList.add("active");
        blogSection1.classList.remove("active");
        blogSection2.classList.add("active");
        document.querySelector(".blog_section").scrollIntoView({behavior: `smooth`});
    })



</script>