---
import "../styles/global.css";
---
<div class="wrap">
<section class="slider_section">
    <div class="slider_container">
    <div class="slider">
        <img src="/slide_1.jpg" alt="Fun and games at thye office">
        <img src="/slide_2.jpg" alt="Fun and games at thye office"> 
        <img src="/slide_3.jpg" alt="Fun and games at thye office"> 
        <img src="/slide_4.jpg" alt="Fun and games at thye office"> 
        <img src="/slide_5.jpg" alt="Fun and games at thye office"> 
        <img src="/slide_6.jpg" alt="Fun and games at thye office"> 
        <img src="/slide_8.jpg" alt="Fun and games at thye office"> 
        <img src="/slide_9.jpg" alt="Fun and games at thye office"> 
        <img src="/slide_10.jpg" alt="Fun and games at thye office"> 
        <img src="/slide_11.jpg" alt="Fun and games at thye office"> 
        <img src="/slide_12.jpg" alt="Fun and games at thye office"> 
        <img src="/slide_13.jpg" alt="Fun and games at thye office">   
    </div>
    <button class="slide_button prev"><img src="/button_prev.svg" alt="Prev button"></button>
    <button class="slide_button next"><img src="/button_next.svg" alt="Next button"></button>  
    </div>    
</section>
</div>

<style>

.slider_section {
    position: relative;
    isolation: isolate;
    margin-top: 4.5%;
    margin-bottom: 10%;
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: var(--section-color);
}

.wrap{
    position: relative;
    isolation: isolate;

}
.wrap::before{
    content: '';
    background-color: var(--iw-color-orange);
    position: absolute;
    z-index: -2;
    inset: 0;
    margin-bottom: -5%;
}

.wrap::after{
    content: '';
    background-color: var(--iw-color-blue);
    position: absolute;
    z-index: -1;
    /* inset er en kort betegnelse for left, right, top og bottom, som bruges til at placere elementer der har position absolute */
    inset: 0;
    margin-top: -5%;
}
.slider_container{
    position: relative;
    width: 80%;
    max-width: 1200px;
    overflow: hidden;
}

.slider{
    display: flex;
    transition: transform 0.5s ease;
    gap: 2%;
}

.slider img{
    width: 100%;
    max-height: 300px;
    object-fit: cover;
}

.slide_button{
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    cursor: pointer;
    z-index: 2;
    width: 80px;
    padding-block: 5px;
    padding-inline: 10px;
}

.slide_button:hover, .slide_button:active{
    background-color: rgba(172, 249, 201, 0.459);
    border-radius: 25px;
}

.slide_button.prev{
    left: 0.3rem;
}

.slide_button.next{
    right: 0.3rem;
}

@media (max-width: 800px) {

.slider img{
    width: 100%;
    max-height: 250px;
    object-fit: cover;
}
.slide_button{
    width: 55px;
    padding-block: 5px;
    padding-inline: 10px;
}

}

</style>

<script is:inline>

let currentIndex = 0;

function moveSlide(direction){
    const slides = document.querySelectorAll(".slider img");
    const totalSlides = slides.length;

    currentIndex += direction;

    if(currentIndex < 0){
        currentIndex = totalSlides -1;
    } else if (currentIndex >= totalSlides){
        currentIndex = 0;
    }

    const slider = document.querySelector(".slider");
    const offset = -currentIndex * 250;
    slider.style.transform = `translateX(${offset}px)`;
}

document.querySelector(".prev").addEventListener("click", () => {
  moveSlide(-1);
});

document.querySelector(".next").addEventListener("click", () => {
  moveSlide(1);
});

// Fik lidt hjælp af Chat gpt til denne karrusel, de de eneste tutorials jeg kunne finde var full-screen sliders
// Men måtte stadig ændre en del for at få slideren til at passe og være nogenlunde responsiv 

</script>